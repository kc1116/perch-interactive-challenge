(window.webpackJsonpui=window.webpackJsonpui||[]).push([[0],{132:function(e,t,n){e.exports=n(261)},261:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(26),c=n.n(o),r=n(39),s=n(40),l=n(42),u=n(41),m=n(43),p=n(270),d=n(272),h=n(271),b=n(268),w=(n(137),{h1:{marginTop:"3em"},h2:{margin:"4em 0em 2em"},h3:{marginTop:"2em",padding:"2em 0em"},last:{marginBottom:"300px"}}),E=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.createElement(p.a.Item,{key:Math.random().toString()},a.createElement(p.a.Content,null,a.createElement(p.a.Header,null,a.createElement("span",null,this.props.productName),a.createElement("span",null,"Published at ",this.props.timestamp)),a.createElement(p.a.Description,null,a.createElement("span",null,"Interaction Type: ",this.props.interactionType),a.createElement("span",null,"ID: ",this.props.id))))}}]),t}(a.Component),f=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={ws:new WebSocket("ws://localhost:8000/ws"),connected:!1,isInfiniteLoading:!1,interactions:[]},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.state.ws.onopen=function(){e.setState({connected:!0})},this.state.ws.onmessage=function(t){var n=JSON.parse(t.data),i=e.state.interactions;i.push(a.createElement(E,{id:n.identifier,productName:n.productName,interactionType:n.interactionType,timestamp:n.timestamp})),e.setState({interactions:i}),console.log(n)},this.state.ws.onclose=function(){e.setState({connected:!1})}}},{key:"render",value:function(){return a.createElement("div",null,a.createElement(d.a,{as:"h2",textAlign:"center",style:w.h2,content:"Perch Device Interactions"}),a.createElement(d.a,{as:"h3",textAlign:"center",style:w.h3},a.createElement("span",null,"Websocket status:"),a.createElement("span",{style:{padding:"10px",color:this.state.connected?"green":"red"}},this.state.connected?"connected":"disconnected")),a.createElement(h.a,{inverted:!0,style:{height:"100vh"}},a.createElement(b.a,{as:p.a,continuous:!1,once:!1,divided:!0,inverted:!0,relaxed:!0},this.state.interactions)))}}]),t}(a.Component),g=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.createElement(f,null)}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[132,1,2]]]);
//# sourceMappingURL=main.07a551fc.chunk.js.map